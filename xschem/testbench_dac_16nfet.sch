v {xschem version=3.4.5 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
B 2 910 250 1710 650 {flags=graph
y1=-0.0011
y2=0.049
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=4e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0
node="out"
color=4
dataset=-1
unitx=1
logx=0
logy=0
}
B 2 450 1065 930 1315 {flags=graph
y1=0
y2=1.8
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=4e-06

subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0
color="4 5 6 9"
node="IN0
IN1
IN2
IN3"
divx=5}
B 2 1720 250 2520 650 {flags=graph
y1=-4e-05
y2=0.0022
ypos1=0
ypos2=2
divy=5
subdivy=1
unity=1
x1=0
x2=4e-06
divx=5
subdivx=1
xlabmag=1.0
ylabmag=1.0


dataset=-1
unitx=1
logx=0
logy=0
color="8 9 7 8 10 10"
node="i(vmeas) i(vmeaslvt) i(vmeasnorm) i(vmeaslvt1) i(vmeasnorm1)"}
N 700 450 730 450 {
lab=vss}
N 810 450 840 450 {
lab=vdd}
N 730 510 730 520 {
lab=GND}
N 840 510 840 520 {
lab=GND}
N 550 730 600 730 {
lab=IN2}
N 550 750 600 750 {
lab=IN3}
N 550 790 600 790 {
lab=IN5}
N 550 810 600 810 {
lab=IN6}
N 550 830 600 830 {
lab=IN7}
N 550 870 600 870 {
lab=IN9}
N 550 890 600 890 {
lab=IN10}
N 550 910 600 910 {
lab=IN11}
N 550 930 600 930 {
lab=IN12}
N 510 690 600 690 {
lab=IN0}
N 900 710 950 710 {
lab=#net1}
N 1010 710 1200 710 {
lab=OUT}
N 930 800 930 830 {
lab=GND}
N 1080 800 1080 820 {
lab=GND}
N 930 820 1080 820 {
lab=GND}
N 930 710 930 740 {
lab=#net1}
N 1080 710 1080 740 {
lab=OUT}
N 550 710 600 710 {
lab=IN1}
N 550 770 600 770 {
lab=IN4}
N 550 950 600 950 {
lab=IN13}
N 550 970 600 970 {
lab=IN14}
N 510 850 600 850 {
lab=IN8}
N 840 640 840 660 {
lab=vss}
N 1930 770 1970 770 {
lab=vdd}
N 1930 930 1970 930 {
lab=vdd}
N 2010 930 2100 930 {
lab=GND}
N 2100 930 2100 980 {
lab=GND}
N 2010 980 2100 980 {
lab=GND}
N 2010 960 2010 980 {
lab=GND}
N 2010 770 2100 770 {
lab=GND}
N 2100 770 2100 810 {
lab=GND}
N 2010 810 2100 810 {
lab=GND}
N 2010 800 2010 810 {
lab=GND}
N 2160 770 2200 770 {
lab=vdd}
N 2160 930 2200 930 {
lab=vdd}
N 2240 930 2330 930 {
lab=GND}
N 2330 930 2330 980 {
lab=GND}
N 2240 980 2330 980 {
lab=GND}
N 2240 960 2240 980 {
lab=GND}
N 2240 770 2330 770 {
lab=GND}
N 2330 770 2330 810 {
lab=GND}
N 2240 810 2330 810 {
lab=GND}
N 2240 800 2240 810 {
lab=GND}
N 1820 1140 1860 1140 {
lab=vdd}
N 1900 1140 1990 1140 {
lab=GND}
N 1990 1140 1990 1180 {
lab=GND}
N 1900 1180 1990 1180 {
lab=GND}
N 1900 1170 1900 1180 {
lab=GND}
N 2060 1140 2100 1140 {
lab=vdd}
N 2140 1140 2230 1140 {
lab=GND}
N 2230 1140 2230 1180 {
lab=GND}
N 2140 1180 2230 1180 {
lab=GND}
N 2140 1170 2140 1180 {
lab=GND}
N 2300 1140 2340 1140 {
lab=vdd}
N 2380 1140 2470 1140 {
lab=GND}
N 2470 1140 2470 1180 {
lab=GND}
N 2380 1180 2470 1180 {
lab=GND}
N 2380 1170 2380 1180 {
lab=GND}
N 1830 1340 1870 1340 {
lab=vdd}
N 1910 1340 2000 1340 {
lab=GND}
N 2000 1340 2000 1380 {
lab=GND}
N 1910 1380 2000 1380 {
lab=GND}
N 1910 1370 1910 1380 {
lab=GND}
N 2070 1340 2110 1340 {
lab=vdd}
N 2150 1340 2240 1340 {
lab=GND}
N 2240 1340 2240 1380 {
lab=GND}
N 2150 1380 2240 1380 {
lab=GND}
N 2150 1370 2150 1380 {
lab=GND}
N 2310 1340 2350 1340 {
lab=vdd}
N 2390 1340 2480 1340 {
lab=GND}
N 2480 1340 2480 1380 {
lab=GND}
N 2390 1380 2480 1380 {
lab=GND}
N 2390 1370 2390 1380 {
lab=GND}
C {devices/code.sym} 490 450 0 0 {name=TT_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
** opencircuitdesign pdks install
.lib $::SKYWATER_MODELS/sky130.lib.spice tt

"
spice_ignore=false}
C {devices/launcher.sym} 1245 768.75 0 0 {name=h17 
descr="Load waves" 
tclcommand="
xschem raw_read $netlist_dir/[file tail [file rootname [xschem get current_name]]].raw tran

"
}
C {dac_16nfet.sym} 750 830 0 0 {name=x1}
C {devices/vsource.sym} 730 480 0 0 {name=V1 value=0.0 savecurrent=false}
C {devices/lab_pin.sym} 700 450 0 0 {name=p1 sig_type=std_logic lab=vss
}
C {devices/gnd.sym} 730 520 0 0 {name=l1 lab=GND}
C {devices/vsource.sym} 840 480 0 0 {name=V2 value=1.8 savecurrent=false}
C {devices/lab_pin.sym} 810 450 0 0 {name=p2 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 790 600 0 0 {name=p3 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 840 640 0 0 {name=p4 sig_type=std_logic lab=vss
}
C {devices/ipin.sym} 550 710 0 0 {name=p19 lab=IN1}
C {devices/opin.sym} 1200 710 0 0 {name=p20 lab=OUT}
C {devices/res.sym} 980 710 1 0 {name=R1
value=100
footprint=1206
device=resistor
m=1}
C {devices/simulator_commands_shown.sym} 945 910 0 0 {name=COMMANDS
simulator=ngspice
only_toplevel=false 
value="
vin0 IN0 0 pulse 0 1.8 100n 5n 5n 90n 2000n
vin1 IN1 0 pulse 0 1.8 200n 1n 1n 95n 2000n
vin2 IN2 0 pulse 0 1.8 300n 1n 1n 95n 2000n
vin3 IN3 0 pulse 0 1.8 400n 1n 1n 95n 2000n
vin4 IN4 0 pulse 0 1.8 500n 1n 1n 95n 2000n
vin5 IN5 0 pulse 0 1.8 600n 1n 1n 95n 2000n
vin6 IN6 0 pulse 0 1.8 700n 1n 1n 95n 2000n
vin7 IN7 0 pulse 0 1.8 800n 1n 1n 95n 2000n

vin8  IN8  0 pulse 0 1.8  900n 1n 1n 95n 2000n
vin9  IN9  0 pulse 0 1.8 1000n 1n 1n 95n 2000n
vin10 IN10 0 pulse 0 1.8 1100n 1n 1n 95n 2000n
vin11 IN11 0 pulse 0 1.8 1200n 1n 1n 95n 2000n
vin12 IN12 0 pulse 0 1.8 1300n 1n 1n 95n 2000n
vin13 IN13 0 pulse 0 1.8 1400n 1n 1n 95n 2000n
vin14 IN14 0 pulse 0 1.8 1500n 1n 1n 95n 2000n

* .savecurrents
.control
save all
tran 100p 4000n
write testbench_dac_16nfet.raw
.endc
"}
C {devices/ipin.sym} 550 730 0 0 {name=p21 lab=IN2}
C {devices/ipin.sym} 550 750 0 0 {name=p22 lab=IN3}
C {devices/gnd.sym} 840 520 0 0 {name=l3 lab=GND}
C {devices/gnd.sym} 930 830 0 0 {name=l4 lab=GND}
C {devices/ipin.sym} 510 690 0 0 {name=p16 lab=IN0}
C {devices/ammeter.sym} 790 630 0 0 {name=Vmeas savecurrent=true}
C {devices/ipin.sym} 550 790 0 0 {name=p5 lab=IN5
}
C {devices/ipin.sym} 550 810 0 0 {name=p6 lab=IN6}
C {devices/ipin.sym} 550 830 0 0 {name=p7 lab=IN7}
C {devices/ipin.sym} 550 770 0 0 {name=p8 lab=IN4}
C {devices/ipin.sym} 550 870 0 0 {name=p9 lab=IN9
}
C {devices/ipin.sym} 550 890 0 0 {name=p10 lab=IN10}
C {devices/ipin.sym} 550 910 0 0 {name=p11 lab=IN11}
C {devices/ipin.sym} 510 850 0 0 {name=p14 lab=IN8}
C {devices/ipin.sym} 550 950 0 0 {name=p15 lab=IN13
}
C {devices/ipin.sym} 550 970 0 0 {name=p18 lab=IN14}
C {devices/ipin.sym} 550 930 0 0 {name=p24 lab=IN12}
C {devices/res.sym} 1080 770 0 0 {name=R4
value=32
footprint=1206
device=resistor
m=1}
C {devices/capa.sym} 930 770 0 0 {name=C1
m=1
value=5p
footprint=1206
device="ceramic capacitor"}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1990 770 0 0 {name=M1
L=1
W=11
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 2010 710 0 0 {name=VmeasLVT savecurrent=true}
C {devices/lab_pin.sym} 2010 680 0 0 {name=p12 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 1930 770 0 0 {name=p13 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2010 810 0 0 {name=l2 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 1990 930 0 0 {name=M3
L=1
W=14
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/ammeter.sym} 2010 870 0 0 {name=VmeasNORM savecurrent=true}
C {devices/lab_pin.sym} 2010 840 0 0 {name=p23 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 1930 930 0 0 {name=p25 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2010 980 0 0 {name=l5 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2220 770 0 0 {name=M2
L=.15
W=3.5
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 2240 710 0 0 {name=VmeasLVT1 savecurrent=true}
C {devices/lab_pin.sym} 2240 680 0 0 {name=p17 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 2160 770 0 0 {name=p26 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2240 810 0 0 {name=l6 lab=GND}
C {sky130_fd_pr/nfet_01v8.sym} 2220 930 0 0 {name=M4
L=.15
W=4
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {devices/ammeter.sym} 2240 870 0 0 {name=VmeasNORM1 savecurrent=true}
C {devices/lab_pin.sym} 2240 840 0 0 {name=p27 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 2160 930 0 0 {name=p28 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2240 980 0 0 {name=l7 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1880 1140 0 0 {name=M5
L=8
W=0.42
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 1900 1080 0 0 {name=VmeasLVTs savecurrent=true}
C {devices/lab_pin.sym} 1900 1050 0 0 {name=p29 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 1820 1140 0 0 {name=p30 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 1900 1180 0 0 {name=l8 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2120 1140 0 0 {name=M6
L=0.2
W=0.42
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 2140 1080 0 0 {name=VmeasLVTm savecurrent=true}
C {devices/lab_pin.sym} 2140 1050 0 0 {name=p31 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 2060 1140 0 0 {name=p32 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2140 1180 0 0 {name=l9 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2360 1140 0 0 {name=M7
L=0.2
W=4
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 2380 1080 0 0 {name=VmeasLVTb savecurrent=true}
C {devices/lab_pin.sym} 2380 1050 0 0 {name=p33 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 2300 1140 0 0 {name=p34 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2380 1180 0 0 {name=l10 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1890 1340 0 0 {name=M8
L=12
W=1
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 1910 1280 0 0 {name=VmeasLVTs1 savecurrent=true}
C {devices/lab_pin.sym} 1910 1250 0 0 {name=p35 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 1830 1340 0 0 {name=p36 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 1910 1380 0 0 {name=l11 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2130 1340 0 0 {name=M9
L=1
W=1
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 2150 1280 0 0 {name=VmeasLVTm1 savecurrent=true}
C {devices/lab_pin.sym} 2150 1250 0 0 {name=p37 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 2070 1340 0 0 {name=p38 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2150 1380 0 0 {name=l12 lab=GND}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2370 1340 0 0 {name=M10
L=1
W=12
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/ammeter.sym} 2390 1280 0 0 {name=VmeasLVTb1 savecurrent=true}
C {devices/lab_pin.sym} 2390 1250 0 0 {name=p39 sig_type=std_logic lab=vdd
}
C {devices/lab_pin.sym} 2310 1340 0 0 {name=p40 sig_type=std_logic lab=vdd
}
C {devices/gnd.sym} 2390 1380 0 0 {name=l13 lab=GND}
